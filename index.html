<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="https://unpkg.com/mqtt@2.16.0/dist/mqtt.min.js" type="text/javascript"></script>  
		<script>
			var client  = mqtt.connect('mqtt://127.0.0.1',{port:3000})
			 
			client.on('connect', function () {
				client.subscribe('/tips');
			 	client.subscribe('presence');
			 	client.publish('presence', 'hello presence');
			})
		
		    client.on('message', function (topic, message) {
			  // message is Buffer
			  console.log(topic,message.toString())
//			  client.end()//结束该客户端的订阅
			})
		    
		    client.subscribe("demo");
		    client.publish("demo", "hello demo!");
			
			
//			var ws = new WebSocket("wss://echo.websocket.org");
//
//			ws.onopen = function(evt) { 
//			  console.log("Connection open ..."); 
//			  ws.send("Hello WebSockets!");
//			};
//			
//			ws.onmessage = function(evt) {
//			  console.log( "Received Message: " + evt.data);
//			  ws.close();
//			};
//			
//			ws.onclose = function(evt) {
//			  console.log("Connection closed.");
//			};  
		</script>
	</head>
	<body>
		mqtt
		&
		mosca
	</body>
</html>
